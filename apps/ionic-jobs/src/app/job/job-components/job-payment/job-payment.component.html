<div class="detail ion-padding">
  <div class="detail-content">

    <ion-card>
      <ion-card-content>
        <div *ngIf="customer$ | async as customer">
          <div class="customer-name bold">{{customer.name}}</div>
          <div class="customer-number">Customer No. {{customer.id}}</div>
        </div>
      </ion-card-content>
    </ion-card>


    <div *ngIf="currentJobService.invoice$ | async as invoice">

      <ion-card>

        <ion-card-content>

          <div>
            <hc-invoice-list-table [appointmentId]="invoice.appointmentId"></hc-invoice-list-table>
          </div>

        </ion-card-content>
      </ion-card>

      <ng-container *ngIf="cardPayments$ | async as cardPayments">
        <ion-card *ngIf="cardPayments?.length">

          <ion-card-header>
            Card Payments
          </ion-card-header>

          <ion-card-content>

            <hc-card-payment-list [appointmentId]="invoice.appointmentId"></hc-card-payment-list>

          </ion-card-content>

        </ion-card>
      </ng-container>

      <div class="card-payment padded-center">
        <ion-button (click)="makePayment()">
          Make Payment
          <ion-icon name="card" slot="end"></ion-icon>
        </ion-button>
      </div>

    </div>

  </div>
</div>
